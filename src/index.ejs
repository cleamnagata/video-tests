<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<title>video-sample</title>
	<style>
		body {
			background-color: #000000;
		}
	</style>
	<!-- for video.js player -->
	<link href="http://vjs.zencdn.net/5.18.4/video-js.css" rel="stylesheet">

	<!-- hls 関連npm読み込みうまくいかなかったので直読み -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/alt/video-js-cdn.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.10.2/video.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/3.0.2/videojs-contrib-hls.js"></script>
</head>
<body>

<%
// query string 生成用の文字列(git の最終 commit hash を取得して、version として使用する)
// TODO: webpack config から注入したほうが良いか？
//var versionHash = require('child_process').execSync('git rev-parse HEAD').toString().trim();
var versionHash = 12345;
%>
<% _.each(htmlWebpackPlugin.files.chunks, function(hash) { %>
<script src="<%= hash.entry %>?=<%= versionHash %>"></script>
<% }); %>
</body>
</html>
